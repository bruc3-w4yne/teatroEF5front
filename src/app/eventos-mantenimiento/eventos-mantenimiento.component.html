<app-pagina-principal></app-pagina-principal>
<div class="container mt-3">
    <div class="row">
        <div class="col-6 col-sm-4">
            <h1>Mantenimiento Evento</h1>
            <form class="row g-3" (ngSubmit)="agregarEventos()">
                <div class="form-group my-2">
                    <label for="idevento">Código</label>
                    <input type="number" class="form-control" id="idevento" name="idevento" placeholder="Código" readonly
                    [(ngModel)]="nuevoEvento.idevento"
                    >
                </div>
                <div class="form-group col-md-12 my-2">
                    <label for="nomevento" class="form-label">Nombre</label>
                    <input type="text" name="nomevento" class="form-control" id="nomevento" [(ngModel)]="nuevoEvento.nomevento" placeholder="Nombre del Evento">
                </div>
                <div class="form-group col-md-12 my-2">
                    <label for="desevento" class="form-label">Descripcion</label>
                    <input type="text" name="desevento" class="form-control" id="desevento" [(ngModel)]="nuevoEvento.desevento" placeholder="Descripcion del evento">
                </div>
                <label for="idcat" class="form-label">Categoría</label>
                <select id="idcat" class="form-select" name="idcat" [(ngModel)]="nuevoEvento.idcat">
                    <option value="0">Seleccione...</option>
                    <option *ngFor="let c of categorias" [value]="c.idcat">{{c.nomcat}}</option>
                </select>
                <button type="submit" class="btn btn-primary my-3">Registrar</button>
            </form>
        </div>

        <div class="col-6 col-sm-7">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Descripcion</th>
                        <th scope="col">Categoria</th>
                        <th scope="col">Accion</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let objEventos of eventos">
                        <th scope="row">{{objEventos.idevento}}</th>
                        <td>{{objEventos.nomevento}}</td>
                        <td>{{objEventos.desevento}}</td>
                        <td>{{objEventos.objCategoria?.nomcat}}</td>
                      <a (click)="buscarEvento(objEventos.idevento)" class="btn btn-success">Editar</a>  | 
                    <a (click)="eliminarEvento(objEventos.idevento)" class="btn btn-danger">Eliminar</a>
                    
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
